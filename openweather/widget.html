<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
    <meta charset="UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>
    <script src="openWeather.js"></script>
    <style>
      body {
          font-family: 'Raleway';font-size: 22px;
      }
    </style>
  </head>
  <body>
    <div class="container d-flex justify-content-center align-content-center">
      <!--Weather widget html code-->
      <div class="card mt-3" style="width: 300px;">
        <div class="card-header d-flex justify-content-center">
          Barcelona
        </div>
        <div class="d-flex justify-content-center">
          <img height="100" class="weather-icon"></img>
        </div>
        <div class="weather-description mx-auto" style="text-transform: capitalize;"></div>
        <hr/>
        <div class="card-body" style="padding: 0rem;">
          <div id="current_weather" class="d-flex justify-content-center row" style="margin: 0.75rem;">
            <div class="col-6 my-auto">
              <div class="row">
                <label style="font-size: medium;">Min:&nbsp;</label>
                <div class="weather-min-temperature" style="font-size: medium;"></div>
              </div>
              <div class="row">
                <label style="font-size: medium;">Max:&nbsp;</label>
                <div class="weather-max-temperature" style="font-size: medium;"></div>
              </div>
            </div>
            <div class="col-6  my-auto d-flex justify-content-center">
              <div class="weather-temperature"></div>
            </div>
          </div>
          <hr/>
          <div id="weather-forecast" class="row d-flex justify-content-center" style="margin: inherit;"></div>
        </div>
      </div>
    </div>
    <!-- Ideally, make a python wrapper and pass the values instead of using jQuery? -->
    <script>
        $('.weather-temperature').openWeather({
	        lat:41.38879,
          lng:2.15899,
          iconTarget:'.weather-icon',
          key:'a7bf54fbd775796a64aad9c5ca7d26ef',
          customIcons: './icons/',
          minTemperatureTarget:'.weather-min-temperature',
          maxTemperatureTarget:'.weather-max-temperature',
          descriptionTarget:'.weather-description',
          forecastTarget: 'weather-forecast',
          lang:'es',
          query:'onecall' // to get forecast
        });
    </script>
  </body>
</html>
